module.exports = function (context) {
  var options = context.options[0] || {}
  var allowThen = options.allowThen
  var terminationMethod = options.terminationMethod || 'catch'
  var STATIC_METHODS = [
    'all',
    'race',
    'reject',
    'resolve'
  ]
  function isPromise (expression) {
    return ( // hello.then()
      expression.type === 'CallExpression' &&
      expression.callee.type === 'MemberExpression' &&
      expression.callee.property.name === 'then'
    ) || ( // hello.catch()
      expre
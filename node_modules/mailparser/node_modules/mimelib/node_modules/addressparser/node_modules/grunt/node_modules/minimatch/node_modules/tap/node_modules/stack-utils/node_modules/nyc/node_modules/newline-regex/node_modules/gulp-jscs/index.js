'use strict';
var path = require('path');
var gutil = require('gulp-util');
var through = require('through2');
var tildify = require('tildify');
var Checker = require('jscs');
var loadConfigFile = require('jscs/lib/cli-config');

module.exports = function (opts) {
	opts = opts || {};

	var config;
	var checker = new Checker();

	try {
		config = loadConfigFile.load(opts.configPath);
	} catch (err) {
		err.message = 'Unable to load JSCS config file';

		if (opts.configPath) {
			err.message += ' at ' + tildi